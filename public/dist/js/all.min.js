function setUpdateInterval(){updateInterval=setInterval(fetchGameData,3e5)}function beforeUnload(){return null}function updatePlayerInfo(){$(".player-list li").each(function(n,a){$el=$(a);var e=$el.find(".name").val(),t=$el.find(".num-squares").val();e&&t&&(info.players[n]={name:e,sqCount:t})})}function addPlayer(n,a){var e="<li><input class='name'><div class='num'><input class='num-squares' type='number'><span> Squares</span></div></li>",t=$(e);a?(console.log("has details"),t.find(".name").val(a.name),t.find(".num-squares").val(a.sqCount),t.insertBefore(".player-list li.blank")):(console.log("no details"),t.appendTo(".player-list"))}function updateSquareCount(){updatePlayerInfo();var n=0;$(".num input").each(function(a,e){n+=parseInt($(e).val())}),$(".squares-remaining").text(100-n),updatePayouts()}function updatePrice(n){console.log("in here"),info.config.costPerSq=$(n.currentTarget).val(),updatePayouts()}function updatePayouts(){var n=info.config.costPerSq*(100-$(".squares-remaining").text()),a=[.15,.3,.15,.4];$(".payouts li span").each(function(e,t){var o=n*a[e];o=Math.round(100*o)/100,$(t).text("$"+o)})}function loadLocalStorage(){}function fetchGameData(){$.ajax({url:"/api/game",cache:!1,type:"GET"}).done(function(n){gameData=n}).error(function(n){503===n.status&&console.log("Game doesn't exist yet on NFL servers")})}$(function(){loadLocalStorage(),nextPage=function(){$(".content").animate({"margin-left":"-=800"},500)},prevPage=function(){$(".content").animate({"margin-left":"+=800"},500)},$(".pick-squares-btn").on("click",nextPage),$(".start-game-btn").on("click",nextPage),$(".settings-btn").on("click",prevPage),$("#pps").on("change",updatePrice),$(".option .player-list").on("change","li .num input",updateSquareCount),$(".add-player-btn").on("click",addPlayer),$(".option .player-list").on("change","li input",updatePlayerInfo),window.onbeforeunload=beforeUnload,loadLocalStorage()});var info={players:[],squares:{},config:{costPerSq:0,locked:!1}},updateInterval=null,gameData={};