function setUpdateInterval(){updateInterval=setInterval(fetchGameData,3e5)}function beforeUnload(){return null}function updatePlayerInfo(){$(".player-list li").each(function(a,e){$el=$(e);var n=$el.find(".name").val(),t=$el.find(".num-squares").val();n&&t&&(info.players[a]={name:n,sqCount:t})})}function addPlayer(a,e){var n="<li><input class='name'><div class='num'><input class='num-squares' type='number'><span> Squares</span></div></li>",t=$(n);e?(console.log("has details"),t.find(".name").val(e.name),t.find(".num-squares").val(e.sqCount),t.insertBefore(".player-list li.blank")):(console.log("no details"),t.appendTo(".player-list"))}function updateSquareCount(){updatePlayerInfo();var a=0;$(".num input").each(function(e,n){a+=parseInt($(n).val())}),$(".squares-remaining").text(100-a),updatePayouts()}function updatePrice(a){console.log("in here"),info.config.costPerSq=$(a.currentTarget).val(),updatePayouts()}function updatePayouts(){var a=info.config.costPerSq*(100-$(".squares-remaining").text()),e=[.15,.3,.15,.4];$(".payouts li span").each(function(n,t){var o=a*e[n];o=Math.round(100*o)/100,$(t).text("$"+o)})}function loadLocalStorage(){}function fetchGameData(){$.ajax({url:"/api/game",cache:!1,type:"GET"}).done(function(a){gameData=a}).error(function(a){503===a.status&&console.log("Game doesn't exist yet on NFL servers")})}$(function(){loadLocalStorage(),nextPage=function(){$(".content").animate({"margin-left":"-=800"},500)},prevPage=function(){$(".content").animate({"margin-left":"+=800"},500)};for(var a=0;100>a;a++){var e="";24===a?(e+='<div class="square chosen">',e+='<div class="square-text">Zack S.</div>'):(e+='<div class="square">',e+='<div class="square-text">'+a+"</div>"),e+="</div>",$(".square-container").append(e)}$(".pick-squares-btn").on("click",nextPage),$(".start-game-btn").on("click",nextPage),$(".settings-btn").on("click",prevPage),$("#pps").on("change",updatePrice),$(".option .player-list").on("change","li .num input",updateSquareCount),$(".add-player-btn").on("click",addPlayer),$(".option .player-list").on("change","li input",updatePlayerInfo),window.onbeforeunload=beforeUnload,loadLocalStorage()});var info={players:[],squares:{},config:{costPerSq:0,locked:!1}},updateInterval=null,gameData={};